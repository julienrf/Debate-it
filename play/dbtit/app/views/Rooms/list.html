#{extends 'main.html' /}
#{set 'title'}&{'myRooms'} â€” Debate it!#{/set}
#{set 'moreStyles'}
	#{stylesheet 'pagination.sass' /}
#{/set}

<div>
	<h1>&{'myRooms'}</h1>
</div>


#{if subscriptions.size() > 0}
	<div>#{a @Rooms.newRoom()}&{'createRoom'}#{/a}</div>
	<div class="box">
		<table class="list">
		
		<tr class="item">
			<th>&{'room'}</th>
			<th>&{'threadCount'}</th>
			<th></th>
		</tr>
		
		#{list items:subscriptions, as:'room'}
			<tr class="item ${subscription_parity} hoverable">
				<td>#{a @Rooms.show(room.hash), class:'item-title'} ${room.name} #{/a}</td>
				<td>${room.threads.size()}</td>
				<td class="hover">
					#{a @Rooms.unsubscribe(room.hash, request.url), title:messages.get('unsubscribeRoom')}&{'unsubscribe'}#{/a}
				</td>
			</tr>
		#{/list}
		
		</table>
		#{pagination.list pagination:pagination, route:@Rooms.list() /}
	</div>
#{/if}
#{else}
	<div>
		&{'noSubscribedRooms'}<br />
		#{a @Rooms.newRoom()}&{'createRoom'}#{/a}
	</div>
#{/else}
